\documentclass[shownotes, xcolor = table]{beamer}

\input{preamble}

\title[RVSI@SRDS, HongKong]{\papertitle}
% \subtitle{(SRDS 2017, HongKong)}

\author[Hengfeng Wei]{\textbf{Hengfeng Wei}, Yu Huang, Jian Lu}
\titlegraphic{\includegraphics[height = 1.3cm]{figs/nju-logo-purple.png}~\includegraphics[height = 1.3cm]{figs/cs-logo.jpg}}
% \institute{Institute of Computer Software \\ Nanjing University}
\institute{Nanjing University, China}
\date{\today}

\AtBeginSection[]{
  \begin{frame}[noframenumbering, plain]
    \frametitle{\shortpapertitle}
    \centerline{\underline{RVSI: Relaxed Version Snapshot Isolation}}
    \tableofcontents[currentsection, sectionstyle=show/shaded, subsectionstyle=hide/hide/hide]
  \end{frame}
}
%%%%%%%%%%%%%%%%%%%%
\begin{document}

% mdf: mdframed; #1: frame color; #2: frame title color; #3: frame title; #4: text
\newcommand{\mdf}[4]{
\begin{mdframed}[frametitle={
  \tikz[baseline = (current bounding box.east), outer sep = 0pt]
  \node[anchor = east, rectangle, fill = #1!20, font = \small]{\strut \textcolor{#2}{#3}};},
  innertopmargin = 2pt, linecolor = #1!20, linewidth = 2pt, topline = true,
  frametitleaboveskip=\dimexpr-\ht\strutbox\relax]
  #4
\end{mdframed}
}

\maketitle

\begin{frame}[noframenumbering, plain]
  \frametitle{\shortpapertitle}
  \centerline{\underline{RVSI: Relaxed Version Snapshot Isolation}}
  \tableofcontents[currentsection, sectionstyle=show, subsectionstyle=show/show/hide]
\end{frame}

% \input{sections/intro}
% \input{sections/rvsi}
% \input{sections/protocol}
\input{sections/experiment}
% \input{sections/related-work}
% \input{sections/conclusion}
% \input{sections/appendix}

\end{document}