\section{Motivation for RVSI}

%%%%%%%%%%%%%%%
\begin{frame}{}
  \centerline{Distributed key-value stores:}
  \fignocaption{width = 0.50\textwidth}{figs/kvs.pdf}
  \centerline{\putop{} \qquad \getop{}}
\end{frame}
%%%%%%%%%%%%%%%

% Distributed transactional key-value stores
%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    Transactions are performed on \red{a group of keys} in an ``all-or-none'' way.
  \end{center}

  \pause
  \vspace{0.50cm}
  \fignocaption{width = 0.55\textwidth}{figs/consistency-model-tree.png}
  \centerline{Transactional consistency models (from \citeinbeamer{Bailis}{VLDB}{14})}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  Snapshot isolation (SI \citeinbeamer{Berenson}{SIGMOD}{95}, \citeinbeamer{Adya}{Thesis}{99}):
  \begin{itemize}
    \item \red{Read} from the ``latest'' snapshot as of the time the transaction started
    \item No \red{write}-conflicting concurrent transactions
  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    Reading the \red{``latest''} in a \blue{distributed} setting \\
    often requires intensive coordinations.
  \end{center}

  \pause
  \vspace{0.50cm}
  Relaxed variants of (distributed) SI:
  \begin{description}[PL-FCVpad]
    \item[GSI~\footnote{GSI: Generalized Snapshot Isolation \citeinbeamer{Elnikety}{SRDS}{05}}:]
      allows to read from ``older'' snapshots
    \item[NMSI~\footnote{NMSI: Non-Monotonic Snapshot Isolation \citeinbeamer{Ardekani}{SRDS}{13}}:]
      allows to observe non-monotonically ordered snapshots
    \item[PL-FCV~\footnote{PL-FCV: Forward Consistent View \citeinbeamer{Aday}{Thesis}{99}}:]
      allows a transaction to observe the updates of transactions that commit after it started
    \item[PSI~\footnote{PSI: Parallel Snapshot Isolation \citeinbeamer{Sovran}{SOSP}{11}}:]
      causal ordering of transactions across sites
  \end{description}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  Two possible drawbacks:
  \begin{enumerate}
    \setlength{\itemsep}{8pt}
    \item Unbounded inconsistency
      \begin{itemize}
	\item no specification of the severity of the anomalies w.r.t SI
      \end{itemize}
    \pause
    \item Untunable at runtime
      \begin{itemize}
	\setlength{\itemsep}{5pt}
	\item determined at the system design phase
	\item remain unchanged once the system is deployed
      \end{itemize}
  \end{enumerate}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    An online bookstore application~\footnote{Adapted from \citeinbeamer{Guo}{SIGMOD}{04} 
    and \citeinbeamer{Bernstein}{SIGMOD}{06}.} for motivating \\
    \red{\large ``bounded inconsistency''} and \red{\large ``runtime-tuable''}:
  \end{center}

  \vspace{-0.20cm}
  \begin{table}
    \centering
    \begin{tabular}{c|c|c|c|c|c|c}
      \hline
      Title & Authors & Sales & Inventory & Ratings & Reviews & $\cdots$ \\
      \hline
    \end{tabular}
  \end{table}

  \pause
  \vspace{0.20cm}
  \begin{description}[Bookstore Clerk ($T_2$):]
    \setlength{\itemsep}{6pt}
    \item[Customer ($T_1$):] Obtaining the basic info. about a book
      \begin{itemize}
	\item \emph{\blue{out-of-date}} reviews
      \end{itemize}
      \pause
    \item[Bookstore Clerk ($T_2$):] Checking the inventory of a book
      \begin{itemize}
	\item inventory updated by concurrent transactions committed \emph{\blue{after}} $T_2$ starts
      \end{itemize}
      \pause
    \item[Sales Analyst ($T_3$):] Studying sales vs. ratings of a book
      \begin{itemize}
	\item sales and ratings from \emph{\blue{separate snapshots}}
      \end{itemize}
  \end{description}
\end{frame}
%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%
\begin{frame}{}
  The idea of \red{\large ``parameterized and runtime-tunable snapshot isolation''}.

  \vspace{0.50cm}
  \rvsi{}: Relaxed Version Snapshot Isolation
  \begin{description}
    \item[$\konebv$:] $k_1$-version bounded \emph{\blue{backward}} view
    \item[$\ktwofv$:] $k_2$-version bounded \emph{\blue{forward}} view
    \item[$\kthreesv$:] $k_3$-version bounded \emph{\blue{snapshot}} view
  \end{description}

  \pause
  \vspace{10pt}
  \chameleon{} prototype: distributed transactional key-value store
  \begin{itemize}
    \item Achieves \rvsi{}
    \item Allows each transaction to tune its consistency level at runtime
      \pause
    \item Deployed on Aliyun~\footnote{\url{http://www.aliyun.com/}}
    \item Evaluates the impacts of \rvsi{} on the transaction abort rates
  \end{itemize}
\end{frame}
%%%%%%%%%%%%%%%
